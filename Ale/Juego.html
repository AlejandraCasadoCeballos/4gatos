<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8">
        <script src="phaser.js"></script>
        <script src="phaser.min.js"></script>
    
</head>
<body>

    <script>
    const config = {
       
        width: 320*2,
        height: 180*2,
        parent:"container",
        type: Phaser.AUTO,
        scene: {
            preload: preload,
            create: create,
            update: update
        },
        physics: {
            default: "arcade",
            arcade: {
                gravity: {
                    y: 500
                }
            }
        }
    };

    var game = new Phaser.Game(config);

    function preload ()
    {
        this.load.image("pajaro", "/assets/bird.png");
        this.load.image("pajaro2", "/assets/bird_dos.png");
    }

    function create ()
    {
        //donde cargas la imagen: 
        //this.pajaro=this.add.image(1, 100, "pajaro");
        //para que pueda usar las fisicas
        this.pajaro=this.physics.add.image(50, 100, "pajaro"); 
        this.pajaro2=this.physics.add.image(100, 100, "pajaro2"); 
        //this.pajaro.setScale(2); //para escalar una vez
        //this.pajaro.flipX=true; //para cambiar de direccion en la que mira el pajaro 
        //this.pajaro.setOrigin(0,0); //cambia el origen del eje del pajaro
        //physics
        this.pajaro.setCollideWorldBounds(true); //el pajaro no se sale del lienzo
        this.pajaro2.setCollideWorldBounds(true); 
        
        //this.pajaro.setBounce(1); //el pajaro rebota al colisionar
        //this.pajaro.setAcceleration(10,0); //el primer parametro es la aceleracion en la x y el segundo en la y
        //this.input.keyboard.on("keydown_RIGHT", () => { //que haga cosas con x tecla pulsada
            //this.pajaro.x++;
        //    this.pajaro.setAcceleration(100,0);
        //});
        //this.input.keyboard.on("keyup_RIGHT", () => {
        //    this.pajaro.setAcceleration(0,0);
        //    this.pajaro.setVelocity(0);
        //});
        //esto para usar "cursor" como flechas
        //this.cursor=this.input.keyboard.createCursorKeys();
        this.right=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);
        this.left=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);
        this.up=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);
        this.right2=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.L);
        this.left2=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.J);
        this.up2=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.I);


    }

    function update(time, delta){
        //this.pajaro.angle++; //para rotar sin parar en el update
        //this.pajaro.x++; //el pez se mueve en el eje x
        //lo de abajo es usando las flechas tambien
        //if(this.cursor.right.isDown){
        //    this.pajaro.x++;
        //} else if(this.cursor.left.isDown)
        //   this.pajaro.x--;
        
        //ahora usa D y A como izq y derecha
        if(this.right.isDown){
            this.pajaro.x=this.pajaro.x+3;
        }if(this.left.isDown){
            this.pajaro.x=this.pajaro.x-3;
        }if(this.up.isDown)
           this.pajaro.setVelocityY(-200);

        if(this.right2.isDown){
            this.pajaro2.x++;
        } else if(this.left2.isDown){
           this.pajaro2.x--;
        } else if(this.up2.isDown)
           this.pajaro2.setVelocityY(-100);

    }

    </script>

</body>
</html>